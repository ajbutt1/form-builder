<mat-card>
  <h3>Field update for {{ data.item.type | titlecase }}</h3>
  <form [formGroup]="formUpdate" (ngSubmit)="handleFieldUpdate()">
    <mat-form-field appearance="fill" *ngIf="editBtnModeOn">
      <mat-label>Button name</mat-label>
      <input required matInput formControlName="buttonValue" />
    </mat-form-field>
    <mat-form-field appearance="fill" *ngIf="!editBtnModeOn">
      <mat-label>Label</mat-label>
      <input required matInput formControlName="label" />
    </mat-form-field>
    <br />
    <mat-form-field appearance="fill" *ngIf="!editBtnModeOn">
      <mat-label>Name</mat-label>
      <input required matInput formControlName="name" />
    </mat-form-field>
    <br />
    <div formGroupName="validators" *ngIf="data.item.validators">
      <mat-slide-toggle formControlName="required">Required</mat-slide-toggle>
      <br />
      <mat-form-field
        appearance="fill"
        *ngIf="
          data.item.type !== 'email' &&
          data.item.type !== 'button' &&
          data.item.type !== 'submit'
        "
      >
        <mat-label>Min length</mat-label>
        <input matInput formControlName="minLength" type="number" />
      </mat-form-field>
      <br />
      <mat-form-field
        appearance="fill"
        *ngIf="
          data.item.type !== 'email' &&
          data.item.type !== 'button' &&
          data.item.type !== 'submit'
        "
      >
        <mat-label>Max length</mat-label>
        <input matInput formControlName="maxLength" type="number" />
      </mat-form-field>
    </div>
    <div class="d-flex justify-content-between">
      <button mat-button mat-dialog-close class="btn btn-secondary">
        Cancel
      </button>
      <button
        class="btn btn-secondary"
        mat-button
        cdkFocusInitial
        (click)="handleFieldUpdate()"
      >
        Update
      </button>
    </div>
    <h5 style="color: red" *ngIf="minMaxLengthError">Invalid min/max length</h5>
  </form>
</mat-card>
